<!doctype html>
<html lang="fr-CI">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <link rel="icon" href="/favicon.png" type="image/png">
    
    <!-- PWA & Native App Configuration -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Djassa">
    <meta name="application-name" content="Djassa">
    <meta name="theme-color" content="#FF6B35">
    <meta name="msapplication-TileColor" content="#FF6B35">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Apple Touch Icons - Properly sized for iOS -->
    <link rel="apple-touch-icon" href="/icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/icons/icon-152.png">
    <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/icon-192.png">
    
    <!-- Preload critical icons for PWA install -->
    <link rel="preload" href="/icons/icon-192.png" as="image" type="image/png">
    <link rel="preload" href="/icons/icon-512.png" as="image" type="image/png">
    
    <!-- Disable iOS specific behaviors -->
    <meta name="HandheldFriendly" content="true">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" id="pwa-manifest">
    <script>
      // Preview hardening: on Lovable preview hosts, the platform runtime may attempt
      // to fetch/bridge the manifest cross-origin which can trigger CORS errors.
      // The manifest is not required for React to boot in preview, so we disable it
      // ONLY on preview hosts to avoid blocking/interrupting the runtime.
      (function () {
        try {
          var host = window.location.hostname;
          var isPreview =
            host.includes('lovable.app') ||
            host.includes('lovableproject.com') ||
            host.includes('preview--') ||
            host.startsWith('id-preview--');

          if (!isPreview) return;

          var link = document.getElementById('pwa-manifest');
          if (link && link.parentNode) {
            link.parentNode.removeChild(link);
            console.warn('[PWA] Manifest disabled on preview host to avoid CORS/runtime bridge issues');
          }
        } catch (e) {
          // no-op
        }
      })();
    </script>

    <!-- Runtime hardening (preview + hosted): mitigate stale SW/CDN HTML that can prevent module script loading -->
    <script>
      (function () {
        try {
          var host = window.location.hostname;
          var isLovableHost =
            host.includes('lovable.app') ||
            host.includes('lovableproject.com') ||
            host.includes('preview--') ||
            host.startsWith('id-preview--');

          var url = new URL(window.location.href);
          var forceReset = url.searchParams.get('reset') === '1' || url.searchParams.get('disableSW') === '1';

          // 1) If we're on Lovable hosts (preview/published) OR user forces reset,
          // unregister SW + clear CacheStorage as early as possible.
          // This helps when an OLD SW cached an old index.html without module scripts.
          if ((isLovableHost || forceReset) && 'serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function (regs) {
              return Promise.all(regs.map(function (r) { return r.unregister(); }));
            }).catch(function () {});
          }
          if ((isLovableHost || forceReset) && 'caches' in window) {
            caches.keys().then(function (keys) {
              return Promise.all(keys.map(function (k) { return caches.delete(k); }));
            }).catch(function () {});
          }

          // 2) Check if module entry script exists.
          // Vite build injects /assets/index-[hash].js; dev uses /src/main.tsx.
          var hasAnyModuleScript = !!document.querySelector('script[type="module"][src]');
          var isLocalhost = host === 'localhost' || host === '127.0.0.1';
          
          if (!hasAnyModuleScript) {
            if (isLocalhost) {
              // Dev mode: inject dev entry
              var s = document.createElement('script');
              s.type = 'module';
              s.src = '/src/main.tsx?v=' + Date.now();
              s.setAttribute('data-recovery', 'module-entry');
              document.head.appendChild(s);
              console.warn('[Recovery] Injected dev module entry:', s.src);
            } else {
              // Production/Preview: HTML served without Vite build scripts - cannot recover client-side
              console.error('[Recovery] CRITICAL: No module script found in HTML. The build output may be corrupted or CDN is serving stale HTML. Try hard refresh (Ctrl+Shift+R) or append ?reset=1 to URL.');
              // Show visible error to user
              document.addEventListener('DOMContentLoaded', function() {
                var overlay = document.createElement('div');
                overlay.id = 'recovery-error-overlay';
                overlay.style.cssText = 'position:fixed;inset:0;background:#1a1a2e;color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:999999;font-family:system-ui,sans-serif;padding:2rem;text-align:center;';
                overlay.innerHTML = '<h1 style="font-size:1.5rem;margin-bottom:1rem;color:#ff6b6b;">‚ö†Ô∏è Erreur de chargement</h1>' +
                  '<p style="max-width:400px;line-height:1.6;margin-bottom:1.5rem;">Le fichier HTML servi ne contient pas les scripts de l\'application. Cela peut √™tre d√ª √† un cache CDN obsol√®te.</p>' +
                  '<button onclick="location.reload(true)" style="padding:0.75rem 1.5rem;background:#3b82f6;color:#fff;border:none;border-radius:0.5rem;cursor:pointer;font-size:1rem;">üîÑ Recharger (hard refresh)</button>' +
                  '<p style="margin-top:1rem;font-size:0.85rem;opacity:0.7;">Si le probl√®me persiste, contactez le support.</p>';
                document.body.appendChild(overlay);
              });
            }
          }
        } catch (e) {
          // no-op
        }
      })();
    </script>
    
    <!-- Primary SEO Meta Tags -->
    <title>Djassa Marketplace ‚Äì Achat et Vente en Ligne en C√¥te d'Ivoire | Cr√©ez votre Boutique</title>
    <meta name="description" content="Djassa Marketplace est la plateforme e-commerce #1 en C√¥te d'Ivoire. Achetez et vendez en ligne : t√©l√©phones, v√™tements, √©lectronique, beaut√©. Cr√©ez votre boutique en ligne gratuitement. Livraison √† Abidjan, Bouak√©, Yamoussoukro." />
    <meta name="author" content="Djassa Marketplace - E-commerce C√¥te d'Ivoire" />
    <meta name="keywords" content="marketplace C√¥te d'Ivoire, Djassa Marketplace, achat en ligne Abidjan, vente en ligne C√¥te d'Ivoire, boutique en ligne Abidjan, e-commerce Afrique, cr√©er boutique en ligne, marketplace africaine, commerce en ligne C√¥te d'Ivoire, t√©l√©phones pas chers Abidjan, v√™tements en ligne C√¥te d'Ivoire, √©lectronique Abidjan, beaut√© cosm√©tique Abidjan, livraison rapide C√¥te d'Ivoire, Orange Money, MTN Mobile Money, Moov Money, plateforme de vente, shopping en ligne Afrique, marketplace Bouak√©, marketplace Yamoussoukro, marketplace San-P√©dro, vendre en ligne C√¥te d'Ivoire" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    
    <!-- Language & Regional SEO -->
    <meta name="language" content="fr-CI" />
    <meta http-equiv="content-language" content="fr-CI" />
    <meta name="geo.region" content="CI" />
    <meta name="geo.placename" content="Abidjan, C√¥te d'Ivoire" />
    <meta name="geo.position" content="5.3600;-4.0083" />
    <meta name="ICBM" content="5.3600, -4.0083" />
    
    <!-- City-specific SEO (hidden from UI) -->
    <meta name="city" content="Abidjan" />
    <meta name="coverage" content="C√¥te d'Ivoire, Abidjan, Bouak√©, Yamoussoukro, San-P√©dro, Korhogo, Man, Daloa, Gagnoa" />
    
    <link rel="canonical" href="https://djassa.tech/" />
    <link rel="alternate" hreflang="fr-CI" href="https://djassa.tech/" />
    <link rel="alternate" hreflang="fr" href="https://djassa.tech/" />
    <link rel="alternate" hreflang="x-default" href="https://djassa.tech/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Djassa Marketplace" />
    <meta property="og:url" content="https://djassa.tech" />
    <meta property="og:title" content="Djassa Marketplace ‚Äì Achat et Vente en Ligne en C√¥te d'Ivoire" />
    <meta property="og:description" content="Djassa Marketplace : la plateforme e-commerce leader en C√¥te d'Ivoire. Achetez, vendez et cr√©ez votre boutique en ligne. Livraison √† Abidjan, Bouak√©, Yamoussoukro. Paiement Mobile Money s√©curis√©." />
    <meta property="og:image" content="https://djassa.tech/images/preview.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Djassa Marketplace - Achat et Vente en Ligne C√¥te d'Ivoire" />
    <meta property="og:locale" content="fr_CI" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@DjassaMarketplace" />
    <meta name="twitter:url" content="https://djassa.tech" />
    <meta name="twitter:title" content="Djassa Marketplace ‚Äì Achat et Vente en Ligne en C√¥te d'Ivoire" />
    <meta name="twitter:description" content="Djassa Marketplace : Achetez et vendez en ligne en C√¥te d'Ivoire. T√©l√©phones, v√™tements, √©lectronique. Cr√©ez votre boutique gratuitement. Paiement Mobile Money." />
    <meta name="twitter:image" content="https://djassa.tech/images/preview.jpg" />
    <meta name="twitter:image:alt" content="Djassa Marketplace - E-commerce C√¥te d'Ivoire" />

    <!-- Structured Data - Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "@id": "https://djassa.tech/#organization",
      "name": "Djassa Marketplace",
      "alternateName": ["Djassa", "Djassa CI", "Djassa C√¥te d'Ivoire"],
      "url": "https://djassa.tech",
      "logo": {
        "@type": "ImageObject",
        "url": "https://djassa.tech/favicon.png",
        "width": 512,
        "height": 512
      },
      "description": "Djassa Marketplace est la plateforme e-commerce leader en C√¥te d'Ivoire sp√©cialis√©e dans l'achat et la vente en ligne avec livraison rapide et paiement Mobile Money s√©curis√©.",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "CI",
        "addressRegion": "Abidjan",
        "addressLocality": "Abidjan"
      },
      "areaServed": [
        {
          "@type": "Country",
          "name": "C√¥te d'Ivoire"
        },
        {
          "@type": "City",
          "name": "Abidjan"
        },
        {
          "@type": "City",
          "name": "Bouak√©"
        },
        {
          "@type": "City",
          "name": "Yamoussoukro"
        },
        {
          "@type": "City",
          "name": "San-P√©dro"
        }
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer service",
        "areaServed": "CI",
        "availableLanguage": ["French", "fr"]
      },
      "sameAs": [
        "https://djassa.tech"
      ]
    }
    </script>

    <!-- Structured Data - WebSite with SearchAction -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "@id": "https://djassa.tech/#website",
      "name": "Djassa Marketplace",
      "alternateName": "Djassa",
      "url": "https://djassa.tech",
      "description": "Marketplace e-commerce pour l'achat et la vente en ligne en C√¥te d'Ivoire",
      "publisher": {
        "@id": "https://djassa.tech/#organization"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://djassa.tech/search?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      },
      "inLanguage": "fr-CI"
    }
    </script>

    <!-- Structured Data - OnlineStore / Marketplace -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "OnlineStore",
      "@id": "https://djassa.tech/#store",
      "name": "Djassa Marketplace",
      "description": "Marketplace e-commerce leader en C√¥te d'Ivoire. Achat et vente en ligne de t√©l√©phones, v√™tements, √©lectronique, beaut√© avec livraison rapide √† Abidjan, Bouak√©, Yamoussoukro.",
      "url": "https://djassa.tech",
      "logo": "https://djassa.tech/favicon.png",
      "image": "https://djassa.tech/images/preview.jpg",
      "telephone": "+225-00-00-00-00",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "CI",
        "addressRegion": "District Autonome d'Abidjan",
        "addressLocality": "Abidjan"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "5.3600",
        "longitude": "-4.0083"
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
        "opens": "00:00",
        "closes": "23:59"
      },
      "priceRange": "CFA",
      "currenciesAccepted": "XOF",
      "paymentAccepted": ["Orange Money", "MTN Mobile Money", "Moov Money", "Carte bancaire", "Visa", "Mastercard"],
      "areaServed": {
        "@type": "Country",
        "name": "C√¥te d'Ivoire"
      },
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Produits Djassa Marketplace",
        "itemListElement": [
          {
            "@type": "OfferCatalog",
            "name": "T√©l√©phones & Accessoires",
            "itemListElement": []
          },
          {
            "@type": "OfferCatalog",
            "name": "Mode & V√™tements",
            "itemListElement": []
          },
          {
            "@type": "OfferCatalog",
            "name": "√âlectronique",
            "itemListElement": []
          },
          {
            "@type": "OfferCatalog",
            "name": "Beaut√© & Cosm√©tique",
            "itemListElement": []
          },
          {
            "@type": "OfferCatalog",
            "name": "Maison & D√©coration",
            "itemListElement": []
          },
          {
            "@type": "OfferCatalog",
            "name": "Alimentation",
            "itemListElement": []
          }
        ]
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.5",
        "reviewCount": "1000",
        "bestRating": "5",
        "worstRating": "1"
      }
    }
    </script>

    <!-- Structured Data - BreadcrumbList -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Accueil",
          "item": "https://djassa.tech/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Marketplace",
          "item": "https://djassa.tech/marketplace"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Cat√©gories",
          "item": "https://djassa.tech/categories"
        }
      ]
    }
    </script>

    <!-- Structured Data - FAQPage for common queries -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Comment acheter en ligne sur Djassa Marketplace ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Pour acheter sur Djassa Marketplace, cr√©ez un compte gratuit, parcourez les produits, ajoutez au panier et payez par Orange Money, MTN Mobile Money ou carte bancaire. Livraison disponible √† Abidjan, Bouak√©, Yamoussoukro et dans toute la C√¥te d'Ivoire."
          }
        },
        {
          "@type": "Question",
          "name": "Comment cr√©er une boutique en ligne sur Djassa ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Cr√©er votre boutique sur Djassa est gratuit. Inscrivez-vous, cliquez sur 'Cr√©er ma boutique', personnalisez votre espace et commencez √† vendre vos produits en ligne en C√¥te d'Ivoire. Vous b√©n√©ficiez de 50 jetons gratuits pour publier vos premiers produits."
          }
        },
        {
          "@type": "Question",
          "name": "Djassa livre-t-il dans toute la C√¥te d'Ivoire ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Oui, Djassa Marketplace propose la livraison dans toute la C√¥te d'Ivoire : Abidjan, Bouak√©, Yamoussoukro, San-P√©dro, Korhogo, Man, Daloa, Gagnoa et toutes les autres villes."
          }
        },
        {
          "@type": "Question",
          "name": "Quels modes de paiement sont accept√©s sur Djassa ?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Djassa Marketplace accepte Orange Money, MTN Mobile Money, Moov Money et les cartes bancaires (Visa, Mastercard). Tous les paiements sont s√©curis√©s."
          }
        }
      ]
    }
    </script>

    <!-- Structured Data - LocalBusiness for local SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": "https://djassa.tech/#localbusiness",
      "name": "Djassa Marketplace",
      "description": "Marketplace e-commerce leader en C√¥te d'Ivoire pour l'achat et la vente en ligne",
      "url": "https://djassa.tech",
      "telephone": "+225-00-00-00-00",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Abidjan",
        "addressLocality": "Abidjan",
        "addressRegion": "District Autonome d'Abidjan",
        "postalCode": "00225",
        "addressCountry": "CI"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": 5.3600,
        "longitude": -4.0083
      },
      "openingHoursSpecification": [
        {
          "@type": "OpeningHoursSpecification",
          "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
          "opens": "00:00",
          "closes": "23:59"
        }
      ],
      "priceRange": "‚Ç¨‚Ç¨",
      "servesCuisine": "N/A",
      "hasMap": "https://maps.google.com/?q=Abidjan,C√¥te+d'Ivoire"
    }
    </script>
  </head>

  <body class="antialiased overscroll-none">
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Mobile optimizations -->
    <style>
      html, body {
        overscroll-behavior-y: contain;
        -webkit-overflow-scrolling: touch;
      }
      body {
        padding-top: env(safe-area-inset-top);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
      }
      button, a, [role="button"] {
        -webkit-user-select: none;
        user-select: none;
      }
    </style>
  </body>
</html>
